<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.chen.dao.UserDao">
    <select id="findAll" resultType="com.chen.bean.User">
        select id,userName,name,avatar,phone,sex,email from sb_user
    </select>

    <select id="findById" resultType="com.chen.bean.User">
        select id,userName,name,avatar,phone,sex,email from sb_user where id = ${id}
    </select>

    <select id="findByUserName" resultType="com.chen.bean.User">
        select id,userName,name,avatar,phone,sex,email,password from sb_user where userName = '${userName}'
    </select>

    <insert id="add">
        insert into sb_user
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="null != userName">
                userName,
            </if>

            <if test="null != password">
                password,
            </if>

            <if test="null != name">
                name,
            </if>

            <if test="null != avatar">
                avatar,
            </if>
            <if test="null != phone">
                phone,
            </if>

            <if test="null != sex">
                sex,
            </if>

            <if test="null != email">
                email,
            </if>
        </trim>
            <trim prefix="values (" suffix=")" suffixOverrides=",">
                <if test="null != userName">
                    '${userName}',
                </if>

                <if test="null != password">
                    '${password}',
                </if>


                <if test="null != name">
                    '${name}',
                </if>

                <if test="null != avatar">
                    '${avatar}',
                </if>
                <if test="null != phone">
                    '${phone}',
                </if>

                <if test="null != sex">
                    ${sex},
                </if>

                <if test="null != email">
                    '${email}',
                </if>

            </trim>
    </insert>

    <delete id="delete">
        delete from sb_user where id = ${id}
    </delete>

    <update id="update">
        update sb_user
        <set>
            <if test="null != userName">
                userName = '${userName}',
            </if>

            <if test="null != name">
                name = '${name}',
            </if>

            <if test="null != avatar">
                avatar = '${avatar}',
            </if>
            <if test="null != phone">
                phone = '${phone}',
            </if>

            <if test="null != sex">
                sex = ${sex},
            </if>

            <if test="null != email">
                email = '${email}'
            </if>
        </set>
    </update>

</mapper>